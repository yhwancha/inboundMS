// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// Schedule Data Model
model Schedule {
  id              String   @id @default(cuid())
  date            String   // Format: MM/DD/YYYY
  hbl             String
  cntr            String
  appointmentTime String
  location        String   @default("stage")
  note            String   @default("")
  dock            String   @default("")
  checkInTime     String   @default("")
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt

  @@index([date])
  @@index([cntr])
}

// Location Status Model
model Location {
  id        String   @id // Format: A-1, B-2, etc.
  status    String   // "available" or "disabled"
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@index([status])
}

// Timesheet Entry Model
model TimesheetEntry {
  id               String   @id @default(cuid())
  date             String   // Format: MM/DD/YYYY
  customerName     String
  projectName      String
  startTime        String
  endTime          String
  breakMinutes     Int      @default(0)
  totalHours       Float
  description      String   @default("")
  supervisorName   String   @default("")
  supervisorSign   String   @default("")
  supervisorDate   String   @default("")
  workerName       String   @default("")
  workerSign       String   @default("")
  workerDate       String   @default("")
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  @@index([date])
  @@index([customerName])
}

// Version History Model
model VersionHistory {
  id          String   @id @default(cuid())
  version     String
  date        String   // Format: MM/DD/YYYY
  description String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@index([date])
}

// Settings Model
model Settings {
  id        String   @id @default("settings")
  logoUrl   String   @default("")
  userImage String   @default("")
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
